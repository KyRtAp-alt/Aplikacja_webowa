<app-header-admin></app-header-admin>
<div class="ms">
    <div class="title-box">
        <h2 class="title">Dodawanie harmonogramu</h2>
    </div>
    <div class="main-container">
        <div class="main">
            <div class="main-name">
                <label class="main-name-title">Nazwa harmonogramu</label>
                <input class="main-name-input" name="nazwaharmonogramu" [(ngModel)]="nazwaharmonogramu">
            </div>
            <div class="time-select">
                <label class="time-select-title">Czas wizyty</label>
                <input class="time-select-number" type="number" [(ngModel)]="czasWizyty">
                <span class="time-select-title">minut</span>
            </div>
        </div>
        <div class="day-border" [ngClass]="{ 'inactive-day': !poniedzialekAktywny }">
            <div class="mak">
                <div class="day-info">
                    <span class="day">Poniedziałek</span>
                    <label class="checkbox-border">
                        <input class="checkbox" type="checkbox" [(ngModel)]="poniedzialekAktywny">
                        <span class="checkbox-name">Aktywny</span>
                    </label>
                </div>
                <div class="worktime-border" [ngClass]="{ 'inactive-day': !poniedzialekAktywny }">
                    <div class="worktime">
                        <label class="work-start">Pracuje od:</label>
                        <input type="time" [(ngModel)]="poniedzialekOd">
                    </div>
                    <div class="worktime">
                        <label class="work-end">Pracuje do:</label>
                        <input type="time" [(ngModel)]="poniedzialekDo">
                    </div>
                </div>
            </div>
            <div class="">
                <div class="data-list" [ngClass]="{ 'inactive-day': !poniedzialekAktywny }">
                    <div>
                        <label>Określ liczbę tygodni</label>
                        <input class="data-number" [(ngModel)]="liczbaTygodni1" type="number"
                            (change)="generateTygodnie1()">
                    </div>
                    <div *ngFor="let tydzien1 of tygodnie1.slice(0, 1).concat(tygodnie1.slice(-1))" class="list"
                        [ngClass]="{ 'last-week': tydzien1 === tygodnie1[tygodnie1.length - 1] }">
                        <span class="date-week">{{ tydzien1 }} tydzień</span>
                        <input class="date-input" type="date" [(ngModel)]="daty1[tydzien1]"
                            (change)="updateDates1(tydzien1)"
                            [ngClass]="{ 'disabled-cursor': tydzien1 === tygodnie1[tygodnie1.length - 1] }">
                    </div>
                </div>
            </div>
        </div>
        <div class="day-border" [ngClass]="{ 'inactive-day': !wtorekAktywny }">
            <div class="mak">
                <div class="day-info">
                    <span class="day">Wtorek</span>
                    <label class="checkbox-border">
                        <input class="checkbox" type="checkbox" [(ngModel)]="wtorekAktywny">
                        <span class="checkbox-name">Aktywny</span>
                    </label>
                </div>
                <div class="worktime-border" [ngClass]="{ 'inactive-day': !wtorekAktywny }">
                    <div class="worktime">
                        <label class="work-start">Pracuje od:</label>
                        <input type="time" [(ngModel)]="wtorekOd">
                    </div>
                    <div class="worktime">
                        <label class="work-end">Pracuje do:</label>
                        <input type="time" [(ngModel)]="wtorekDo">
                    </div>
                </div>
            </div>
            <div class="">
                <div class="data-list" [ngClass]="{ 'inactive-day': !wtorekAktywny }">
                    <div>
                        <label>Określ liczbę tygodni</label>
                        <input class="data-number" [(ngModel)]="liczbaTygodni2" type="number"
                            (change)="generateTygodnie2()">
                    </div>
                    <div *ngFor="let tydzien2 of tygodnie2.slice(0, 1).concat(tygodnie2.slice(-1))" class="list">
                        <span class="date-week">{{ tydzien2 }} tydzień</span>
                        <input class="date-input" type="date" [(ngModel)]="daty2[tydzien2]"
                            (change)="updateDates2(tydzien2)">
                    </div>
                </div>
            </div>
        </div>
        <div class="day-border" [ngClass]="{ 'inactive-day': !srodaAktywny }">
            <div class="mak">
                <div class="day-info">
                    <span class="day">Środa</span>
                    <label class="checkbox-border">
                        <input class="checkbox" type="checkbox" [(ngModel)]="srodaAktywny">
                        <span class="checkbox-name">Aktywny</span>
                    </label>
                </div>
                <div class="worktime-border" [ngClass]="{ 'inactive-day': !srodaAktywny }">
                    <div class="worktime">
                        <label class="work-start">Pracuje od:</label>
                        <input type="time" [(ngModel)]="srodaOd">
                    </div>
                    <div class="worktime">
                        <label class="work-end">Pracuje do:</label>
                        <input type="time" [(ngModel)]="srodaDo">
                    </div>
                </div>
            </div>
            <div class="">
                <div class="data-list" [ngClass]="{ 'inactive-day': !srodaAktywny }">
                    <div>
                        <label>Określ liczbę tygodni</label>
                        <input class="data-number" [(ngModel)]="liczbaTygodni3" type="number"
                            (change)="generateTygodnie3()">
                    </div>
                    <div *ngFor="let tydzien3 of tygodnie3.slice(0, 1).concat(tygodnie3.slice(-1))" class="list">
                        <span class="date-week">{{ tydzien3 }} tydzień</span>
                        <input class="date-input" type="date" [(ngModel)]="daty3[tydzien3]"
                            (change)="updateDates3(tydzien3)">
                    </div>
                </div>
            </div>
        </div>
        <div class="day-border" [ngClass]="{ 'inactive-day': !czwartekAktywny }">
            <div class="mak">
                <div class="day-info">
                    <span class="day">Czwartek</span>
                    <label class="checkbox-border">
                        <input class="checkbox" type="checkbox" [(ngModel)]="czwartekAktywny">
                        <span class="checkbox-name">Aktywny</span>
                    </label>
                </div>
                <div class="worktime-border" [ngClass]="{ 'inactive-day': !czwartekAktywny }">
                    <div class="worktime">
                        <label class="work-start">Pracuje od:</label>
                        <input type="time" [(ngModel)]="czwartekOd">
                    </div>
                    <div class="worktime">
                        <label class="work-end">Pracuje do:</label>
                        <input type="time" [(ngModel)]="czwartekDo">
                    </div>
                </div>
            </div>
            <div class="">
                <div class="data-list" [ngClass]="{ 'inactive-day': !czwartekAktywny }">
                    <div>
                        <label>Określ liczbę tygodni</label>
                        <input class="data-number" [(ngModel)]="liczbaTygodni4" type="number"
                            (change)="generateTygodnie4()">
                    </div>
                    <div *ngFor="let tydzien4 of tygodnie4.slice(0, 1).concat(tygodnie4.slice(-1))" class="list">
                        <span class="date-week">{{ tydzien4 }} tydzień</span>
                        <input class="date-input" type="date" [(ngModel)]="daty4[tydzien4]"
                            (change)="updateDates4(tydzien4)">
                    </div>
                </div>
            </div>
        </div>
        <div class="day-border" [ngClass]="{ 'inactive-day': !piatekAktywny }">
            <div class="mak">
                <div class="day-info">
                    <span class="day">Piątek</span>
                    <label class="checkbox-border">
                        <input class="checkbox" type="checkbox" [(ngModel)]="piatekAktywny">
                        <span class="checkbox-name">Aktywny</span>
                    </label>
                </div>
                <div class="worktime-border" [ngClass]="{ 'inactive-day': !piatekAktywny }">
                    <div class="worktime">
                        <label class="work-start">Pracuje od:</label>
                        <input type="time" [(ngModel)]="piatekOd">
                    </div>
                    <div class="worktime">
                        <label class="work-end">Pracuje do:</label>
                        <input type="time" [(ngModel)]="piatekDo">
                    </div>
                </div>
            </div>
            <div class="">
                <div class="data-list" [ngClass]="{ 'inactive-day': !piatekAktywny }">
                    <div>
                        <label>Określ liczbę tygodni</label>
                        <input class="data-number" [(ngModel)]="liczbaTygodni5" type="number"
                            (change)="generateTygodnie5()">
                    </div>
                    <div *ngFor="let tydzien5 of tygodnie5.slice(0, 1).concat(tygodnie5.slice(-1))" class="list">
                        <span class="date-week">{{ tydzien5 }} tydzień</span>
                        <input class="date-input" type="date" [(ngModel)]="daty5[tydzien5]"
                            (change)="updateDates5(tydzien5)">
                    </div>
                </div>
            </div>
        </div>
        <div class="day-border" [ngClass]="{ 'inactive-day': !sobotaAktywny }">
            <div class="mak">
                <div class="day-info">
                    <span class="day">Sobota</span>
                    <label class="checkbox-border">
                        <input class="checkbox" type="checkbox" [(ngModel)]="sobotaAktywny">
                        <span class="checkbox-name">Aktywny</span>
                    </label>
                </div>
                <div class="worktime-border" [ngClass]="{ 'inactive-day': !sobotaAktywny }">
                    <div class="worktime">
                        <label class="work-start">Pracuje od:</label>
                        <input type="time" [(ngModel)]="sobotaOd">
                    </div>
                    <div class="worktime">
                        <label class="work-end">Pracuje do:</label>
                        <input type="time" [(ngModel)]="sobotaDo">
                    </div>
                </div>
            </div>
            <div class="">
                <div class="data-list" [ngClass]="{ 'inactive-day': !sobotaAktywny }">
                    <div>
                        <label>Określ liczbę tygodni</label>
                        <input class="data-number" [(ngModel)]="liczbaTygodni6" type="number"
                            (change)="generateTygodnie6()">
                    </div>
                    <div *ngFor="let tydzien6 of tygodnie6.slice(0, 1).concat(tygodnie6.slice(-1))" class="list">
                        <span class="date-week">{{ tydzien6 }} tydzień</span>
                        <input class="date-input" type="date" [(ngModel)]="daty6[tydzien6]"
                            (change)="updateDates6 (tydzien6)">
                    </div>
                </div>
            </div>
        </div>
        <div class="button-border">
            <button class="button"
                (click)="(!isEmptyFields()) && (editingScheme ? updateScheme() : addScheme())">Dodaj</button>
        </div>
    </div>
</div>
<div class="ms-list">
    <div class="scheme-list-border">
        <div class="title-box">
            <h2 class="title">Lista harmonogramow</h2>
        </div>
        <div>
            <div class="list-button-border">
                <button class="doctor-button-list" (click)="getSchemes()">
                    <p class="title-doctor-button-list">Odśwież listę</p>
                </button>
            </div>
            <div>
                <ul *ngFor="let scheme of schemes">
                    <div class="scheme-list">
                        <a class="list-border">
                            <span class="list-title">Nazwa:</span>
                            <span class="list-name">{{scheme.nazwaharmonogramu}}</span>
                        </a>
                        <a class="list-border">
                            <span class="list-title">Czas pracy:</span>
                            <span class="list-name">{{scheme.czaswizyty}}</span>
                        </a>
                        <!-- <a class="list-wroktime ">
                            <span>{{scheme.czaswizyty}}</span>
                        </a> -->
                        <div class="controls">
                            <button (click)="editScheme">Edytuj</button>
                            <button (click)="deleteScheme(scheme._id)">Usuń</button>
                        </div>
                    </div>
                </ul>
            </div>
        </div>
    </div>
</div>
<div class="scroll-to-top" (click)="scrollToTop()">
    <i class="fas fa-chevron-up">&#8593; </i>
</div>